


"""
–û—Å–Ω–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

¬´–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π –ø–æ–º—ñ—á–Ω–∏–∫¬ª –ø–æ–≤–∏–Ω–µ–Ω —É–º—ñ—Ç–∏:

–ó–±–µ—Ä—ñ–≥–∞—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∏ –∑ —ñ–º–µ–Ω–∞–º–∏, –∞–¥—Ä–µ—Å–∞–º–∏, –Ω–æ–º–µ—Ä–∞–º–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤, email —Ç–∞ –¥–Ω—è–º–∏ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –¥–æ –∫–Ω–∏–≥–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤.
–í–∏–≤–æ–¥–∏—Ç–∏ —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤, —É —è–∫–∏—Ö –¥–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ –∑–∞–¥–∞–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–Ω—ñ–≤ –≤—ñ–¥ –ø–æ—Ç–æ—á–Ω–æ—ó –¥–∞—Ç–∏.
–ü–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å –≤–≤–µ–¥–µ–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—É —Ç–∞ email –ø—ñ–¥ —á–∞—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–±–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Å—É —Ç–∞ –ø–æ–≤—ñ–¥–æ–º–ª—è—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —É —Ä–∞–∑—ñ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤–≤–µ–¥–µ–Ω–Ω—è.
–ó–¥—ñ–π—Å–Ω—é–≤–∞—Ç–∏ –ø–æ—à—É–∫ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤ —Å–µ—Ä–µ–¥ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤ –∫–Ω–∏–≥–∏.
–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ç–∞ –≤–∏–¥–∞–ª—è—Ç–∏ –∑–∞–ø–∏—Å–∏ –∑ –∫–Ω–∏–≥–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤.
–ó–±–µ—Ä—ñ–≥–∞—Ç–∏ –Ω–æ—Ç–∞—Ç–∫–∏ –∑ —Ç–µ–∫—Å—Ç–æ–≤–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é.
–ü—Ä–æ–≤–æ–¥–∏—Ç–∏ –ø–æ—à—É–∫ –∑–∞ –Ω–æ—Ç–∞—Ç–∫–∞–º–∏
–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ç–∞ –≤–∏–¥–∞–ª—è—Ç–∏ –Ω–æ—Ç–∞—Ç–∫–∏.




–û—Å–Ω–æ–≤–Ω—ñ –≤–∏–º–æ–≥–∏ –¥–æ ¬´–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–æ–º—ñ—á–Ω–∏–∫–∞¬ª:

1. –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏:

–î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤ –∑ —ñ–º–µ–Ω–∞–º–∏, –∞–¥—Ä–µ—Å–∞–º–∏, –Ω–æ–º–µ—Ä–∞–º–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤, –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—é –ø–æ—à—Ç–æ—é —Ç–∞ –¥–Ω—è–º–∏ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è.
–ü–æ—à—É–∫ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤ –∑–∞ —Ä—ñ–∑–Ω–∏–º–∏ –∫—Ä–∏—Ç–µ—Ä—ñ—è–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–∞ —ñ–º–µ–Ω–µ–º).
–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤.
–í–∏–≤–µ–¥–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤, —É —è–∫–∏—Ö –¥–µ–Ω—å –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ –∑–∞–¥–∞–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–Ω—ñ–≤ –≤—ñ–¥ –ø–æ—Ç–æ—á–Ω–æ—ó –¥–∞—Ç–∏.
–í–∞–ª—ñ–¥–∞—Ü—ñ—è –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—É —Ç–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—ó –ø–æ—à—Ç–∏ –ø—ñ–¥ —á–∞—Å –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∞–±–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—É.


2. –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –Ω–æ—Ç–∞—Ç–∫–∞–º–∏:

–ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö –Ω–æ—Ç–∞—Ç–æ–∫.
–ü–æ—à—É–∫, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –Ω–æ—Ç–∞—Ç–æ–∫.


3. –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö:

–£—Å—ñ –¥–∞–Ω—ñ (–∫–æ–Ω—Ç–∞–∫—Ç–∏, –Ω–æ—Ç–∞—Ç–∫–∏) –ø–æ–≤–∏–Ω–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—è –Ω–∞ –∂–æ—Ä—Å—Ç–∫–æ–º—É –¥–∏—Å–∫—É –≤ –ø–∞–ø—Ü—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
–ü–æ–º—ñ—á–Ω–∏–∫ –º–æ–∂–µ –±—É—Ç–∏ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–∏–π –±–µ–∑ –≤—Ç—Ä–∞—Ç–∏ –¥–∞–Ω–∏—Ö.




–î–æ–¥–∞—Ç–∫–æ–≤–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

–í–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ —Ä–æ–∑—à–∏—Ä–∏—Ç–∏ / –∑–º—ñ–Ω–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –ø—Ä–æ—î–∫—Ç—É –Ω–∞ —Å–≤—ñ–π —Ä–æ–∑—Å—É–¥. –ú–∏ –ø—Ä–æ–ø–æ–Ω—É—î–º–æ –¥–æ–¥–∞—Ç–∫–æ–≤–µ —É—Å–∫–ª–∞–¥–Ω–µ–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è —Ç–∏—Ö, —Ö—Ç–æ —Ä–µ–∞–ª—ñ–∑—É—î –æ—Å–Ω–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª.

–•–æ—á–∞ –¥–æ–¥–∞—Ç–∫–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è –Ω–µ —î –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º, –π–æ–≥–æ –∫–æ—Ä–µ–∫—Ç–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –º–æ–∂–µ –ø—Ä–∏–Ω–µ—Å—Ç–∏ –≤–∞—à—ñ–π –∫–æ–º–∞–Ω–¥—ñ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ 15 –±–∞–ª—ñ–≤.

–ù—É —ñ, –∑–≤—ñ—Å–Ω–æ –∂, –æ–∫—Ä—ñ–º –æ—Ü—ñ–Ω–∫–∏ ‚Äî —Ü–µ –¥–ª—è –≤–∞—Å —á—É–¥–æ–≤–∏–π —à–∞–Ω—Å —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –±—ñ–ª—å—à –ø—Ä–æ—Å—É–Ω—É—Ç–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª —ñ –æ—Ç—Ä–∏–º–∞—Ç–∏ —â–æ–¥–æ –Ω—å–æ–≥–æ –∑–≤–æ—Ä–æ—Ç–Ω–∏–π –∑–≤'—è–∑–æ–∫ —Ç–∞ –ø–æ—Ä–∞–¥–∏ –∑ –ø–æ–ª—ñ–ø—à–µ–Ω–Ω—è. üí™

–¢–æ–º—É —Ä–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ –Ω–µ –∑–∞–ª–∏—à–∞—Ç–∏ –±–µ–∑ —É–≤–∞–≥–∏ —Ç–µ, —â–æ –¥–æ–ø–æ–º–æ–∂–µ –≤–∞–º —É–¥–æ—Å–∫–æ–Ω–∞–ª—é–≤–∞—Ç–∏ —Å–≤–æ—ó –Ω–∞–≤–∏—á–∫–∏.



¬´–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π –ø–æ–º—ñ—á–Ω–∏–∫¬ª –ø–æ–≤–∏–Ω–µ–Ω –¥–æ–¥–∞—Ç–∫–æ–≤–æ –≤–º—ñ—Ç–∏:

–î–æ–¥–∞–≤–∞—Ç–∏ –≤ –Ω–æ—Ç–∞—Ç–∫–∏ ¬´—Ç–µ–≥–∏¬ª, –∫–ª—é—á–æ–≤—ñ —Å–ª–æ–≤–∞, —â–æ –æ–ø–∏—Å—É—é—Ç—å —Ç–µ–º—É —Ç–∞ –ø—Ä–µ–¥–º–µ—Ç –∑–∞–ø–∏—Å—É.
–ó–¥—ñ–π—Å–Ω—é–≤–∞—Ç–∏ –ø–æ—à—É–∫ —ñ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –Ω–æ—Ç–∞—Ç–æ–∫ –∑–∞ –∫–ª—é—á–æ–≤–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ (—Ç–µ–≥–∞–º–∏).
"""

"""–ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª –¥–ª—è –∑–∞–ø—É—Å–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–æ–º—ñ—á–Ω–∏–∫–∞."""

import sys
# –Ü–º–ø–æ—Ä—Ç—É—î–º–æ –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –∑ –Ω–æ–≤–∏—Ö –º–æ–¥—É–ª—ñ–≤
from data_manager import save_data, load_data
from handlers import parse_input, input_error, add_contact, change_contact, show_phone, show_all, add_birthday, show_birthday, show_birthdays, delete_contact, search_contacts
from handlers import add_note, edit_note, delete_note, search_notes, sort_notes, show_all_notes

# -----------------------------------------------------------------
"""–û–°–ù–û–í–ù–ò–ô –¶–ò–ö–õ –ë–û–¢–ê"""
# -----------------------------------------------------------------

def main():
    # –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ DataManager (–≤–∫–ª—é—á–∞—î AddressBook —Ç–∞ NoteBook)
    data_manager = load_data() 
    
    # –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≤—Å—ñ—Ö –∫–æ–º–∞–Ω–¥
    handlers = {
        "hello": lambda args, dm: "–ß–∏–º —è –º–æ–∂—É –≤–∞–º –¥–æ–ø–æ–º–æ–≥—Ç–∏?",
        # –ö–æ–Ω—Ç–∞–∫—Ç–∏
        "add": add_contact,
        "change": change_contact,
        "phone": show_phone,
        "all": show_all,
        "add-birthday": add_birthday,
        "show-birthday": show_birthday,
        "birthdays": show_birthdays,
        "delete-contact": delete_contact,
        "search": search_contacts, # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ 'search' —è–∫ –∑–∞–≥–∞–ª—å–Ω—É
        
        # –ù–æ—Ç–∞—Ç–∫–∏
        "add-note": add_note,
        "edit-note": edit_note,
        "delete-note": delete_note,
        "all-notes": show_all_notes,
        "search-note": search_notes,
        "sort-notes": sort_notes,
    }
    
    print("–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–æ–º—ñ—á–Ω–∏–∫–∞'!")
    print("\n–î–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ (–¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É –¥–∏–≤. help):")
    print("  –ö–æ–Ω—Ç–∞–∫—Ç–∏: add, change, phone, all, delete-contact, search, add-birthday, show-birthday, birthdays")
    print("  –ù–æ—Ç–∞—Ç–∫–∏:  add-note, edit-note, delete-note, all-notes, search-note, sort-notes")
    print("  –°–∏—Å—Ç–µ–º–Ω—ñ: hello, –∑–∞–∫—Ä–∏—Ç–∏, –≤–∏—Ö—ñ–¥")

    while True:
        try:
            user_input = input("\n–í–≤–µ–¥—ñ—Ç—å –∫–æ–º–∞–Ω–¥—É: ").strip()
            command, args = parse_input(user_input)

            if command in ["–∑–∞–∫—Ä–∏—Ç–∏", "–≤–∏—Ö—ñ–¥"]:
                # –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –¥–∞–Ω—ñ –ø–µ—Ä–µ–¥ –≤–∏—Ö–æ–¥–æ–º
                save_data(data_manager) 
                print("–î–æ –ø–æ–±–∞—á–µ–Ω—è! –î–∞–Ω—ñ –∑–±–µ—Ä–µ–∂–µ–Ω–æ.")
                break

            if command in handlers:
                # –ü–µ—Ä–µ–¥–∞—î–º–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∏ —Ç–∞ –æ–±'—î–∫—Ç DataManager
                print(handlers[command](args, data_manager))
            elif command:
                print(f"–ù–µ–¥—ñ–π—Å–Ω–∞ –∫–æ–º–∞–Ω–¥–∞: '{command}'. –°–ø—Ä–æ–±—É–π—Ç–µ '–≤–∏—Ö—ñ–¥'.")
            
        except Exception as e:
            print(f"–°—Ç–∞–ª–∞—Å—è –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á–µ–Ω–∞ –ø–æ–º–∏–ª–∫–∞ –≤ –≥–æ–ª–æ–≤–Ω–æ–º—É —Ü–∏–∫–ª—ñ: {e}")

if __name__ == "__main__":
    main()